{% extends "base.html" %}
{% block title %}Estado de la inversión{% endblock %}

{% block content %}
<h2>Estado actual de tu inversión</h2>

<p><strong>Euros invertidos:</strong> €{{ euros_invertidos }}</p>
<p><strong>Euros recuperados:</strong> €{{ euros_recuperados }}</p>
<p><strong>Euros atrapados en criptos:</strong> €{{ saldo_euros }}</p>
<p><strong>Valor actual de tus criptomonedas:</strong> €{{ valor_actual }}</p>
<p>
  <strong>Ganancia / Pérdida total:</strong>
  <span style="color: {% if diferencia >= 0 %}green{% else %}red{% endif %};">
    €{{ diferencia }}
  </span>
</p>

{% if cotizaciones %}
<h3>Detalle por criptomoneda</h3>
<table>
  <thead>
    <tr>
      <th>Criptomoneda</th>
      <th>Cantidad</th>
      <th>Precio actual (€)</th>
      <th>Valor total (€)</th>
    </tr>
  </thead>
  <tbody>
    {% for cripto, datos in cotizaciones.items() %}
    <tr>
      <td>{{ cripto }}</td>
      <td>{{ datos.cantidad }}</td>
      <td>{{ datos.precio }}</td>
      <td>{{ datos.valor_total }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% else %}
<p>No hay criptomonedas en cartera actualmente.</p>
{% endif %}
{% endblock %}
